<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Void AI Terminal</title>

<style>
body{
    margin:0;
    background:black;
    color:#fff;
    font-family:Courier New, monospace;
    overflow:hidden;
}
canvas{
    position:absolute;
    inset:0;
    z-index:-1;
}
#terminal{
    width:70%;
    height:55vh;
    margin:10vh auto;
    background:rgba(0,0,0,0.85);
    border:2px solid #fff;
    box-shadow:0 0 20px #fff;
    padding:20px;
    overflow-y:auto;
    border-radius:10px;
}
.output{ margin-bottom:10px; line-height:1.4; }
.prompt{ color:#fff; font-weight:bold; }
.input-line{ display:flex; gap:10px; }
input{
    background:transparent;
    border:none;
    color:#fff;
    outline:none;
    width:100%;
    font-size:1.25em;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div id="terminal">
    <div id="history">
        <div class="output">connected to root@void // offline AI core active</div>
    </div>

    <div class="input-line">
        <span class="prompt">user@void:~$</span>
        <input id="commandInput" autofocus spellcheck="false">
    </div>
</div>

<script>
/* ================= MATRIX BACKGROUND ================= */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const chars = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%&@";
const fontSize = 18;
const columns = Math.floor(canvas.width / fontSize);
const drops = Array(columns).fill(1);

function drawMatrix() {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#fff";
    ctx.font = fontSize + "px monospace";

    for(let i = 0; i < drops.length; i++){
        const text = chars[Math.floor(Math.random() * chars.length)];
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if(drops[i] * fontSize > canvas.height && Math.random() > 0.975){
            drops[i] = 0;
        }
        drops[i]++;
    }
}
setInterval(drawMatrix, 30);

/* ================= AI TERMINAL LOGIC ================= */
const input = document.getElementById("commandInput");
const history = document.getElementById("history");
const terminal = document.getElementById("terminal");

const responses = [
    { keys:["hi","hello","hey","yo","hi bro","hello dude","hry dude"], reply:"Hey! I’m online, what’s up?" },
    { keys:["whats up","how are you"], reply:"I’m functioning normally and ready to assist." },

    { keys:["who are you","who r you"], reply:"I am Void AI, an offline artificial intelligence running inside this terminal." },
    { keys:["what is your name","your name"], reply:"I am called Void AI." },
    { keys:["what can you do","what can u do"], reply:"I answer predefined questions, solve math, and simulate intelligence offline." },
    { keys:["are you ai","are u ai"], reply:"Yes. I am an offline AI simulation." },

    { keys:["what is ai"], reply:"Artificial Intelligence enables machines to simulate human intelligence." },
    { keys:["what is machine learning"], reply:"Machine learning allows systems to learn patterns from data." },
    { keys:["what is computer"], reply:"A computer processes data using hardware and software." },
    { keys:["what is javascript"], reply:"JavaScript makes web pages interactive." },
    { keys:["what is html"], reply:"HTML structures web content." },
    { keys:["what is css"], reply:"CSS styles and designs web pages." },

    { keys:["why is the sky blue"], reply:"Because shorter blue wavelengths scatter more in the atmosphere." },
    { keys:["why do we sleep"], reply:"Sleep helps the brain and body recover and store memories." },
    { keys:["how does internet work"], reply:"The internet transfers data via interconnected networks using protocols." },
    { keys:["how do computers work"], reply:"Computers take input, process it, and produce output." },
    { keys:["how does a blockchain work"], reply:"Blockchain stores data in secure, linked blocks using cryptography." }
];

const gratitudeSet = ["ok","thanks","thank you","thanks very much","thanks sooo much","nice","nice work","nice!"];

input.addEventListener("keydown", e=>{
    if(e.key==="Enter"){
        const q = input.value.trim();
        if(q) handleQuestion(q);
        input.value="";
    }
});

function handleQuestion(question){
    let q = question.toLowerCase().trim().replace(/[?.!]+$/,"");
    let answer = "";

    if(q === "clear"){
        history.innerHTML = "";
        return;
    }

    if(q === "what time is it" || q === "date"){
        answer = new Date().toString();
    }
    else if(gratitudeSet.includes(q)){
        answer = q.startsWith("nice") ? "Thanks! Glad you think so." : "You're welcome!";
    }
    else{
        for(let r of responses){
            if(r.keys.some(k => q.includes(k))){
                answer = r.reply;
                break;
            }
        }
    }

    /* ===== ADVANCED MATH ENGINE ===== */
    if(!answer){
        try{
            let expr = q
                .replace(/\^/g,"**")
                .replace(/sqrt\(([^)]+)\)/g,"Math.sqrt($1)")
                .replace(/avg\(([^)]+)\)/g,"($1).split(',').map(Number).reduce((a,b)=>a+b)/($1.split(',').length)")
                .replace(/min\(([^)]+)\)/g,"Math.min($1)")
                .replace(/max\(([^)]+)\)/g,"Math.max($1)")
                .replace(/(\d+)\s*%\s*of\s*(\d+)/g,"($1/100)*$2");

            if(/^[0-9+\-*/().,<>=! ]+$/.test(expr)){
                answer = "Result: " + eval(expr);
            }
        }catch{}
    }

    if(!answer){
        answer = "I’m still under development. I can only answer specific questions and math expressions.";
    }

    const block = document.createElement("div");
    block.innerHTML = `<div class="output"><span class="prompt">user@void:~$</span> ${question}</div>
                       <div class="output">${answer}</div>`;
    history.appendChild(block);
    terminal.scrollTop = terminal.scrollHeight;
}
</script>

</body>
</html>

